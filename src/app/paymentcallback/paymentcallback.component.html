<div class="container py-5 text-center">
  <ng-container *ngIf="cancelMessage; else paymentStatusBlock">
    <div class="alert alert-warning">
      <h2 class="mb-3">
        <i class="bi bi-x-circle-fill"></i> Payment Cancelled
      </h2>
      <p class="lead">{{ cancelMessage }}</p>
      <button
        class="btn btn-outline-primary mt-3"
        (click)="navigateToSubscription()"
      >
        Back to Subscription
      </button>
    </div>
  </ng-container>
  <ng-template #paymentStatusBlock>
    <div
      *ngIf="status === 'success'"
      class="alert alert-success border border-success rounded shadow-sm p-4"
    >
      <h2 class="mb-3 text-success">
        <i class="bi bi-check-circle-fill"></i> Payment Successful!
      </h2>
      <p class="lead text-success">Thank you for your payment.</p>
      <div class="row justify-content-center mb-3">
        <div class="col-md-6">
          <div class="card bg-light border-success mb-3">
            <div class="card-body">
              <p *ngIf="amount" class="mb-2">
                <span class="fw-bold">Amount Paid:</span>
                <span class="text-success"
                  >UGX {{ amount | number : "1.0-0" }}</span
                >
              </p>
              <p class="mb-2">
                <span class="fw-bold">Order Tracking ID:</span>
                <span class="text-success">{{ orderTrackingId }}</span>
              </p>
              <p class="mb-2">
                <span class="fw-bold">Merchant Reference:</span>
                <span class="text-success">{{ merchantReference }}</span>
              </p>
              <p *ngIf="message" class="mb-0 text-success">{{ message }}</p>
            </div>
          </div>
        </div>
      </div>
      <button class="btn btn-primary mt-3" (click)="navigateToSubscription()">
        Back to Subscription
      </button>
    </div>
    <div *ngIf="status === 'failed'" class="alert alert-danger">
      <h2 class="mb-3"><i class="bi bi-x-circle-fill"></i> Payment Failed</h2>
      <p class="lead">Unfortunately, your payment could not be processed.</p>
      <p>{{ message }}</p>
      <button class="btn btn-secondary mt-3" (click)="navigateToSubscription()">
        Try Again
      </button>
    </div>
    <div *ngIf="status === 'pending'" class="alert alert-warning">
      <h2 class="mb-3">
        <i class="bi bi-hourglass-split"></i> Payment Pending
      </h2>
      <p class="lead">Your payment is being processed. Please wait...</p>
      <p>{{ message }}</p>
      <button
        class="btn btn-outline-primary mt-3"
        (click)="navigateToSubscription()"
      >
        Back to Subscription
      </button>
    </div>
  </ng-template>
</div>
