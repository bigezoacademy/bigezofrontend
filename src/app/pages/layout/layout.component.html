<div class="d-flex row">
  <!-- Sidebar -->
  <div class="sidebar" [ngClass]="{ show: sidebarVisible }">
    <button class="close-btn" (click)="toggleSidebar()">×</button>
 <div class="row p-3 logobg mb-3">
  <div class="logo">
    <img src="logo.png" alt="Logo" class=""  />
  </div>
  
 </div>
 <a (click)="home()" *ngIf="accounttype === 'ROLE_USER'">
  <i class="bi me-3 bi-pen"></i> News
</a>
<a *ngIf="accounttype === 'ROLE_ADMIN'"
      class="d-flex align-items-center dropdown-toggle"
      id="newsDropdown"
      data-bs-toggle="dropdown"
      aria-expanded="false"
    >
      <i class="bi me-3 bi-list-check"></i> News
    </a>
    <ul class="dropdown-menu bg-dark" aria-labelledby="newsDropdown">
      <li>
        <a class="dropdown-item" > <i class="bi me-3 bi-eye"></i>  View News</a>
      </li>
      <li *ngIf="accounttype === 'ROLE_ADMIN'">
        <a class="dropdown-item" > <i class="bi me-3 bi-plus"></i>  Create News</a>
      </li>
    
    </ul>
    <a (click)="home()" *ngIf="accounttype === 'ROLE_ADMIN'">
      <i class="bi me-3 bi-graph-up-arrow"></i> Analytics
    </a>
    <a
    class="d-flex align-items-center dropdown-toggle"
    id="feesDropdown"
    data-bs-toggle="dropdown"
    aria-expanded="false"
  >
    <i class="bi me-3 bi-cash-stack"></i>School Fees
  </a>
  <ul class="dropdown-menu bg-dark" aria-labelledby="feesDropdown">
   
    <li *ngIf="accounttype === 'ROLE_ADMIN'">
      <a class="dropdown-item" (click)="setschoolfees()" ><i class="bi me-3 bi-plus"></i>Set School Fees</a>
    </li>
    <li *ngIf="accounttype === 'ROLE_USER'">
      <a class="dropdown-item"  (click)="schoolfees()" ><i class="bi me-3 bi-plus"></i>Pay School Fees</a>
    </li>
    <li>
      <a class="dropdown-item" (click)="schoolfees()"><i class="bi me-3 bi-eye"></i> History</a>
    </li>
  
    <li *ngIf="accounttype === 'ROLE_ADMIN'">
      <a class="dropdown-item" >Defaulters</a>
    </li>
  </ul>
    <a
      class="d-flex align-items-center dropdown-toggle"
      id="requirementsDropdown"
      data-bs-toggle="dropdown"
      aria-expanded="false"
    >
      <i class="bi me-3 bi-list-check"></i> Requirements
    </a>
    <ul class="dropdown-menu bg-dark" aria-labelledby="requirementsDropdown">
      <li>
        <a class="dropdown-item" (click)="requirements()"> <i class="bi me-3 bi-eye"></i>  View Requirements</a>
      </li>
      <li *ngIf="accounttype === 'ROLE_ADMIN'">
        <a class="dropdown-item" (click)="newrequirement()"> <i class="bi me-3 bi-plus"></i>  New Requirement</a>
      </li>
      <li *ngIf="accounttype === 'ROLE_ADMIN'">
        <a class="dropdown-item" (click)="requirementsdefaulters()" >Defaulters</a>
      </li>
    </ul>

    <a
      class="d-flex align-items-center dropdown-toggle"
      id="productsDropdown"
      data-bs-toggle="dropdown"
      aria-expanded="false"
    >
      <i class="bi me-3 bi-list-check"></i> Canteen
    </a>
    <ul class="dropdown-menu bg-dark" aria-labelledby="productsDropdown">
      <li>
        <a class="dropdown-item"><i class="bi me-3 bi-plus"></i>New Term Shopping</a>
      </li>
      <li *ngIf="accounttype === 'ROLE_ADMIN'">
        <a class="dropdown-item"><i class="bi me-3 bi-plus"></i>New Product</a>
      </li>
    </ul>

    <a href="#"> <i class="bi me-3 bi-journal-check"></i> Exam Results </a>

    <a
      class="d-flex align-items-center dropdown-toggle"
      id="smsDropdown"
      data-bs-toggle="dropdown"
      aria-expanded="false"
    >
      <i class="bi me-3 bi-chat-dots"></i> SMS
    </a>
    <ul class="dropdown-menu bg-dark" aria-labelledby="smsDropdown">
      <li>
        <a class="dropdown-item"><i class="bi me-3 bi-eye"></i> SMS Notifications</a>
      </li>
      <li>
        <a class="dropdown-item" *ngIf="accounttype === 'ROLE_ADMIN'"
          ><i class="bi me-3 bi-plus"></i>Send single SMS</a
        >
      </li>
      <li>
        <a class="dropdown-item" *ngIf="accounttype === 'ROLE_ADMIN'"
          ><i class="bi me-3 bi-plus"></i>Send Bulk SMS</a
        >
      </li>
    </ul>

    <a
      class="d-flex align-items-center dropdown-toggle"
      *ngIf="accounttype === 'ROLE_ADMIN'"
      id="requirementsDropdown"
      data-bs-toggle="dropdown"
      aria-expanded="false"
    >
      <i class="bi me-3 bi-database"></i> Database
    </a>
    <ul class="dropdown-menu bg-dark" aria-labelledby="requirementsDropdown">
      <li>
        <a class="dropdown-item" (click)="students()"><i class="bi me-3 bi-eye"></i> View Students</a>
      </li>
      <li *ngIf="accounttype === 'ROLE_ADMIN'">
        <a class="dropdown-item" (click)="newstudent()"><i class="bi me-3 bi-plus"></i>New Student</a>
      </li>
    </ul>

    <a  (click)="transactions()"> <i class="bi me-3 bi-currency-dollar"></i> Transactions </a>
    <a  (click)="photos()" *ngIf="accounttype === 'ROLE_USER'"> <i class="bi me-3 bi-images"></i> My Yearbooks </a>

    <a href="#"> <i class="bi me-3 bi-person"></i> Profile </a>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Header -->
    <div class="header d-flex justify-content-between p-1 ">
      <!-- Hamburger Button for Small Screens -->
      <button class="hamburger-btn d-md-none" (click)="toggleSidebar()">
        ☰
      </button>
      <p class="bigezoapp">Bigezo App</p>

      <!-- User Profile Section (Aligned to the Right) -->
      <div class="user d-flex align-items-center ml-auto">
        <span *ngIf="accounttype === 'ROLE_ADMIN'">
          <i class="bi bi-person-circle me-3" style="font-size: 1.5rem"></i>  {{schoolName}} <span class="text-lightsuccess"> Admin</span>
        </span>
       
        <span *ngIf="accounttype === 'ROLE_USER'">
          <i class="bi bi-person-circle me-3" style="font-size: 1.5rem"></i>  {{name}}
        </span>
        
        <button class="btn btn-sm btn-light mx-3 mx-md-5" (click)="logout()">
          Logout
        </button>
      </div>
    </div>

    <div class="maincontent">
      <router-outlet></router-outlet>
    </div>

    <!-- Footer -->
    <div class="footer">
      <p>
        “Fear God, and give Glory to Him” ... Rev 14:6–7 <br />
        <strong>Bigezo Technologies 2025</strong>
      </p>
    </div>
  </div>
</div>
